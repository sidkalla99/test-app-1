<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zelestra ETRM Raw Data Uploader</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Navbar -->
     <div class="navbar">
         <img src="company_logo.png" alt="Company Logo">
         <button id="backToIndexButton">Home</button>
         <button id="loadDashboardButton">Analytics</button>
         <div class="date-time" id="dateTime"></div>
     </div>

    <h1>Energy Trading and Risk Management Data Uploader Tool</h1>
    
    <!-- Level 1: Main Dropdown for Create or Modify -->
    <label for="actionSelect">Choose Action:</label>
    <select id="actionSelect">
        <option value="">-- Select Action --</option>
        <option value="create">Create</option>
        <option value="modify">Modify</option>
    </select>

    <!-- Level 2: Create Dropdown (Shown if 'Create' is selected) -->
    <div id="createDropdown" style="display: none;">
        <label for="tableSelectCreate">Choose a Category:</label>
        <select id="tableSelectCreate" class="table-select">
            <option value="">-- Select Category --</option>
            <option value="country">Country</option>
            <option value="asset">Asset</option>
            <option value="technology">Technology</option>
            <option value="timezone">Timezone</option>
            <option value="business_unit">Business Unit</option>
            <option value="legal_entity">Legal Entity</option>
            <option value="iso">ISO</option>
            <option value="currency">Currency</option>
            <option value="energy_node">Energy Node</option>
        </select>
    </div>

    <!-- Level 2: Modify Dropdown (Shown if 'Modify' is selected) -->
    <div id="modifyDropdown" style="display: none;">
        <label for="tableSelectModify">Choose a Category:</label>
        <select id="tableSelectModify" class="table-select">
            <option value="">-- Select Category --</option>
            <option value="energy_market">Energy Market</option>
            <option value="capacity_market">Capacity Market</option>
            <option value="asset_description">Asset Description</option>
            <option value="ownership">Ownership</option>
        </select>
    </div>

    <!-- Level 3: Manual or Bulk -->
    <div id="entryTypeDropdown" style="display: none;">
        <label for="entryTypeSelect">Choose Entry Type:</label>
        <select id="uploadModeSelect">
            <option value="">-- Select Entry Type --</option>
            <option value="manual" id="manualOption">Manual</option>
            <option value="bulk">Bulk</option>
        </select>
    </div>

    <!-- Dynamic Form Container -->
    <div id="formContainer" style="display: none;">
        <h3 id="formTitle"></h3>
        <form id="dynamicForm">
            <div id="warningBox" style="display: none; color: green; margin-bottom: 10px;"></div>
            <div id="formFields"></div>
            <button type="submit" id="submitButton">Submit</button>
        </form>
    </div>

    <!-- CSV Uploader (Visible in Bulk Mode) -->
    <div id="csvContainer" style="display: none;">
        <h3>Bulk Upload (CSV):</h3>
        <input type="file" id="csvUpload" accept=".csv">
        <button type="submit" form="dynamicForm">Upload</button>
        <div id="csvUploadStatus"></div>
    </div>

    <!-- Load JS file for all functionalities -->
    <script src="script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>

</body>
</html>
